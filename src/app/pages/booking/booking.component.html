<div class="mobile-container">
  <div class="safe-area">
    <!-- Header -->
    <div class="header">
      <h1 class="text-2xl font-bold">Book Appointment</h1>
    </div>

    <!-- Appointments Counter -->
    <div class="appointments-counter">
      <div class="stats-card">
        <div class="counter-content">
          <div class="counter-info">
            <span class="label">Today's Appointments</span>
            <div class="numbers">
              <span class="current">{{ currentAppointments }}</span>
              <span class="separator">/</span>
              <span class="max">{{ maxDailyAppointments }}</span>
            </div>
          </div>
          <div class="progress-bar">
            <div
              class="progress"
              [style.width.%]="
                (currentAppointments / maxDailyAppointments) * 100
              "
            ></div>
          </div>
        </div>
        <div
          class="status-indicator"
          [class.almost-full]="
            currentAppointments >= maxDailyAppointments * 0.75
          "
        >
          <span class="status-text">{{
            currentAppointments >= maxDailyAppointments * 0.75
              ? "Almost Full"
              : "Available"
          }}</span>
          <div class="status-dot"></div>
        </div>
      </div>
    </div>

    <!-- Calendar Section -->
    <div class="calendar-section">
      <p-calendar
        [(ngModel)]="date"
        [inline]="true"
        [showWeek]="true"
        [numberOfMonths]="1"
        [showOtherMonths]="false"
        styleClass="w-full modern-calendar"
        [minDate]="minDate"
        [maxDate]="maxDate"
        (onSelect)="onDateSelect($event)"
      >
      </p-calendar>
    </div>

    <!-- Selected Date Display -->
    <div class="selected-date-section">
      <div class="p-4 rounded-lg bg-primary-50">
        <p class="text-sm text-primary-400">Selected Date:</p>
        <p class="text-lg font-semibold text-primary-500">
          {{ date | date : "fullDate" }}
        </p>
      </div>
    </div>
  </div>
</div>
